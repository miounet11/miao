# Miaoda IDE æŒä¹…åŒ–å­˜å‚¨è§£å†³æ–¹æ¡ˆ

## ğŸ¯ ç›®æ ‡

ä¸º Miaoda IDE æ„å»ºå¼ºå¤§çš„é¡¹ç›®è®°å¿†å’Œä¸Šä¸‹æ–‡ç†è§£èƒ½åŠ›ï¼š

1. **é¡¹ç›®ä¸Šä¸‹æ–‡è®°å¿†** - è®°ä½é¡¹ç›®ç»“æ„ã€ä»£ç å…³ç³»ã€å¼€å‘å†å²
2. **å¯¹è¯å†å²æŒä¹…åŒ–** - å®Œæ•´ä¿å­˜ AI å¯¹è¯ï¼Œæ”¯æŒå¿«é€Ÿæ£€ç´¢
3. **ä»£ç ç†è§£å’Œç´¢å¼•** - è¯­ä¹‰çº§åˆ«çš„ä»£ç æœç´¢å’Œç†è§£
4. **å¿«é€Ÿæ£€ç´¢èƒ½åŠ›** - æ¯«ç§’çº§å“åº”
5. **å¯é æ€§å’Œæ€§èƒ½** - æ•°æ®ä¸ä¸¢å¤±ï¼Œæ€§èƒ½ç¨³å®š

---

## ğŸ“Š æ–¹æ¡ˆå¯¹æ¯”

### æ–¹æ¡ˆ 1: SQLiteï¼ˆå½“å‰ï¼‰

**æ¶æ„ï¼š**
```
Miaoda IDE
    â†“
  SQLite
    â†“
æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿ
```

**ä¼˜åŠ¿ï¼š**
- âœ… é›¶ä¾èµ–ï¼Œå¼€ç®±å³ç”¨
- âœ… äº‹åŠ¡æ”¯æŒï¼ŒACID ä¿è¯
- âœ… æˆç†Ÿç¨³å®šï¼Œå¹¿æ³›ä½¿ç”¨
- âœ… SQL æŸ¥è¯¢èƒ½åŠ›å¼º

**åŠ£åŠ¿ï¼š**
- âŒ æ— è¯­ä¹‰æœç´¢
- âŒ æ— å‘é‡æ£€ç´¢
- âŒ å¤§æ•°æ®æ€§èƒ½å—é™
- âŒ æ— æ™ºèƒ½æ¨è

**é€‚ç”¨åœºæ™¯ï¼š**
- é…ç½®å­˜å‚¨
- ä¼šè¯å…ƒæ•°æ®
- ç»“æ„åŒ–æ•°æ®

---

### æ–¹æ¡ˆ 2: OpenVikingï¼ˆå­—èŠ‚è·³åŠ¨ï¼‰

**æ¶æ„ï¼š**
```
Miaoda IDE
    â†“
 OpenViking
    â†“
å‘é‡å­˜å‚¨å¼•æ“
```

**ç‰¹ç‚¹ï¼š**
- ğŸ” å‘é‡æ•°æ®åº“
- ğŸš€ é«˜æ€§èƒ½æ£€ç´¢
- ğŸ§  è¯­ä¹‰æœç´¢
- ğŸ¢ ä¼ä¸šçº§æ–¹æ¡ˆ

**ä¼˜åŠ¿ï¼š**
- âœ… è¯­ä¹‰æœç´¢èƒ½åŠ›å¼º
- âœ… å¤§è§„æ¨¡æ•°æ®æ”¯æŒ
- âœ… æ€§èƒ½ä¼˜ç§€
- âœ… ä¼ä¸šçº§ç¨³å®šæ€§

**åŠ£åŠ¿ï¼š**
- âŒ éœ€è¦ç‹¬ç«‹éƒ¨ç½²
- âŒ èµ„æºå ç”¨é«˜
- âŒ å¤æ‚åº¦å¢åŠ 
- âŒ å¯èƒ½éœ€è¦ä»˜è´¹

**é€‚ç”¨åœºæ™¯ï¼š**
- å¤§è§„æ¨¡ä»£ç åº“
- ä¼ä¸šçº§éƒ¨ç½²
- äº‘ç«¯æœåŠ¡

---

### æ–¹æ¡ˆ 3: Wayfind Intent Engine

**æ¶æ„ï¼š**
```
Miaoda IDE
    â†“
Intent Engine
    â†“
æ„å›¾ç†è§£å±‚
```

**ç‰¹ç‚¹ï¼š**
- ğŸ¯ æ„å›¾è¯†åˆ«
- ğŸ”„ ä¸Šä¸‹æ–‡ç®¡ç†
- ğŸ¤– æ™ºèƒ½è·¯ç”±

**ä¼˜åŠ¿ï¼š**
- âœ… æ„å›¾ç†è§£èƒ½åŠ›
- âœ… ä¸Šä¸‹æ–‡æ„ŸçŸ¥
- âœ… æ™ºèƒ½å†³ç­–

**åŠ£åŠ¿ï¼š**
- âŒ ä¸æ˜¯å­˜å‚¨æ–¹æ¡ˆ
- âŒ éœ€è¦é¢å¤–é›†æˆ
- âŒ å­¦ä¹ æˆæœ¬é«˜

**é€‚ç”¨åœºæ™¯ï¼š**
- AI Agent ç¼–æ’
- æ„å›¾è¯†åˆ«
- æ™ºèƒ½è·¯ç”±

---

### æ–¹æ¡ˆ 4: æ··åˆæ¶æ„ï¼ˆæ¨èï¼‰

**æ¶æ„ï¼š**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Miaoda IDE åº”ç”¨å±‚                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      ç»Ÿä¸€å­˜å‚¨æ¥å£ï¼ˆUnified Storage APIï¼‰     â”‚
â”‚  - è‡ªåŠ¨è·¯ç”±                                  â”‚
â”‚  - æ™ºèƒ½ç¼“å­˜                                  â”‚
â”‚  - æ•°æ®åŒæ­¥                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“              â†“              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Layer 1     â”‚ â”‚  Layer 2     â”‚ â”‚  Layer 3     â”‚
â”‚              â”‚ â”‚              â”‚ â”‚              â”‚
â”‚  SQLite      â”‚ â”‚  Vector DB   â”‚ â”‚  File Index  â”‚
â”‚              â”‚ â”‚              â”‚ â”‚              â”‚
â”‚  ç»“æ„åŒ–æ•°æ®   â”‚ â”‚  è¯­ä¹‰æœç´¢    â”‚ â”‚  å¿«é€Ÿæ£€ç´¢    â”‚
â”‚  - é…ç½®      â”‚ â”‚  - ä»£ç åµŒå…¥  â”‚ â”‚  - æ–‡ä»¶ç´¢å¼•  â”‚
â”‚  - ä¼šè¯      â”‚ â”‚  - è¯­ä¹‰æœç´¢  â”‚ â”‚  - ç¬¦å·è¡¨    â”‚
â”‚  - å…ƒæ•°æ®    â”‚ â”‚  - ç›¸ä¼¼åº¦    â”‚ â”‚  - AST ç¼“å­˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ä¼˜åŠ¿ï¼š**
- âœ… ç»“åˆå„æ–¹æ¡ˆä¼˜åŠ¿
- âœ… çµæ´»å¯æ‰©å±•
- âœ… æ€§èƒ½æœ€ä¼˜
- âœ… æ¸è¿›å¼å¢å¼º

---

## ğŸ—ï¸ æ¨èå®æ–½æ–¹æ¡ˆ

### Phase 1: å¢å¼º SQLiteï¼ˆç«‹å³å®æ–½ï¼‰

**ç›®æ ‡ï¼š** è§£å†³å½“å‰ SQLite ç¼–è¯‘é—®é¢˜ï¼Œå¢å¼ºåŸºç¡€èƒ½åŠ›

#### 1.1 ä¿®å¤ SQLite ç¼–è¯‘

```bash
# æ–¹æ¡ˆ A: ä½¿ç”¨é¢„ç¼–è¯‘äºŒè¿›åˆ¶
npm install better-sqlite3

# æ–¹æ¡ˆ B: ä½¿ç”¨çº¯ JS å®ç°
npm install sql.js

# æ–¹æ¡ˆ C: ä½¿ç”¨ Deno SQLiteï¼ˆæ¨èï¼‰
npm install @sqlite.org/sqlite-wasm
```

#### 1.2 å¢å¼ºæ•°æ®æ¨¡å‹

```typescript
// é¡¹ç›®ä¸Šä¸‹æ–‡è¡¨
CREATE TABLE project_context (
  id TEXT PRIMARY KEY,
  project_path TEXT NOT NULL,
  context_type TEXT NOT NULL, -- 'file' | 'symbol' | 'dependency'
  content TEXT NOT NULL,
  metadata JSON,
  embedding_id TEXT, -- å…³è”å‘é‡ ID
  created_at INTEGER,
  updated_at INTEGER,
  INDEX idx_project_path (project_path),
  INDEX idx_context_type (context_type)
);

// å¯¹è¯å†å²è¡¨ï¼ˆå¢å¼ºï¼‰
CREATE TABLE chat_history (
  id TEXT PRIMARY KEY,
  session_id TEXT NOT NULL,
  project_path TEXT,
  role TEXT NOT NULL,
  content TEXT NOT NULL,
  tokens INTEGER,
  model TEXT,
  metadata JSON,
  embedding_id TEXT,
  created_at INTEGER,
  INDEX idx_session (session_id),
  INDEX idx_project (project_path),
  FULLTEXT idx_content (content)
);

// ä»£ç ç´¢å¼•è¡¨
CREATE TABLE code_index (
  id TEXT PRIMARY KEY,
  file_path TEXT NOT NULL,
  symbol_name TEXT NOT NULL,
  symbol_type TEXT NOT NULL, -- 'function' | 'class' | 'variable'
  line_start INTEGER,
  line_end INTEGER,
  signature TEXT,
  doc_comment TEXT,
  references JSON, -- å¼•ç”¨å…³ç³»
  embedding_id TEXT,
  updated_at INTEGER,
  INDEX idx_file (file_path),
  INDEX idx_symbol (symbol_name),
  FULLTEXT idx_doc (doc_comment)
);

// é¡¹ç›®çŸ¥è¯†å›¾è°±
CREATE TABLE knowledge_graph (
  id TEXT PRIMARY KEY,
  project_path TEXT NOT NULL,
  entity_type TEXT NOT NULL, -- 'file' | 'function' | 'class' | 'concept'
  entity_id TEXT NOT NULL,
  relation_type TEXT NOT NULL, -- 'imports' | 'calls' | 'extends' | 'related'
  target_id TEXT NOT NULL,
  weight REAL DEFAULT 1.0,
  metadata JSON,
  INDEX idx_entity (entity_id),
  INDEX idx_target (target_id),
  INDEX idx_relation (relation_type)
);
```

#### 1.3 å…¨æ–‡æœç´¢å¢å¼º

```typescript
// ä½¿ç”¨ SQLite FTS5 å…¨æ–‡æœç´¢
CREATE VIRTUAL TABLE chat_fts USING fts5(
  content,
  content='chat_history',
  content_rowid='id'
);

CREATE VIRTUAL TABLE code_fts USING fts5(
  symbol_name,
  doc_comment,
  content='code_index',
  content_rowid='id'
);
```

---

### Phase 2: é›†æˆè½»é‡çº§å‘é‡æœç´¢ï¼ˆ1-2å‘¨ï¼‰

**ç›®æ ‡ï¼š** æ·»åŠ è¯­ä¹‰æœç´¢èƒ½åŠ›ï¼Œæ— éœ€é¢å¤–æœåŠ¡

#### 2.1 é€‰æ‹©æ–¹æ¡ˆï¼šTransformers.jsï¼ˆæ¨èï¼‰

```typescript
import { pipeline } from '@xenova/transformers';

// æœ¬åœ°è¿è¡Œï¼Œæ— éœ€æœåŠ¡å™¨
const embedder = await pipeline(
  'feature-extraction',
  'Xenova/all-MiniLM-L6-v2'
);

// ç”Ÿæˆä»£ç åµŒå…¥
const codeEmbedding = await embedder(codeSnippet);

// å­˜å‚¨åˆ° SQLite
INSERT INTO embeddings (id, vector, source_id)
VALUES (?, ?, ?);
```

**ä¼˜åŠ¿ï¼š**
- âœ… çº¯ JavaScriptï¼Œæ— éœ€ Python
- âœ… æœ¬åœ°è¿è¡Œï¼Œæ— éœ€ç½‘ç»œ
- âœ… è½»é‡çº§ï¼ˆ~50MBï¼‰
- âœ… æ€§èƒ½è‰¯å¥½

#### 2.2 å‘é‡å­˜å‚¨

```typescript
// ä½¿ç”¨ SQLite å­˜å‚¨å‘é‡
CREATE TABLE embeddings (
  id TEXT PRIMARY KEY,
  source_type TEXT NOT NULL, -- 'code' | 'chat' | 'doc'
  source_id TEXT NOT NULL,
  vector BLOB NOT NULL, -- Float32Array
  dimension INTEGER NOT NULL,
  model TEXT NOT NULL,
  created_at INTEGER,
  INDEX idx_source (source_id)
);

// å‘é‡ç›¸ä¼¼åº¦æœç´¢ï¼ˆä½¿ç”¨æ‰©å±•ï¼‰
// æ–¹æ¡ˆ A: sqlite-vss æ‰©å±•
// æ–¹æ¡ˆ B: çº¯ JS å®ç°ä½™å¼¦ç›¸ä¼¼åº¦
```

#### 2.3 è¯­ä¹‰æœç´¢å®ç°

```typescript
class SemanticSearch {
  async searchSimilarCode(query: string, limit: number = 10) {
    // 1. ç”ŸæˆæŸ¥è¯¢å‘é‡
    const queryVector = await this.embedder(query);

    // 2. è®¡ç®—ç›¸ä¼¼åº¦
    const results = await this.db.all(`
      SELECT
        e.source_id,
        c.content,
        cosine_similarity(e.vector, ?) as similarity
      FROM embeddings e
      JOIN code_index c ON e.source_id = c.id
      WHERE e.source_type = 'code'
      ORDER BY similarity DESC
      LIMIT ?
    `, [queryVector, limit]);

    return results;
  }

  async findRelatedContext(currentFile: string) {
    // åŸºäºå½“å‰æ–‡ä»¶æ‰¾ç›¸å…³ä»£ç 
    const fileEmbedding = await this.getFileEmbedding(currentFile);
    return this.searchSimilarCode(fileEmbedding, 5);
  }
}
```

---

### Phase 3: æ™ºèƒ½ä¸Šä¸‹æ–‡ç®¡ç†ï¼ˆ1ä¸ªæœˆï¼‰

**ç›®æ ‡ï¼š** æ„å»ºé¡¹ç›®è®°å¿†å’Œæ™ºèƒ½æ¨èç³»ç»Ÿ

#### 3.1 é¡¹ç›®ä¸Šä¸‹æ–‡ç®¡ç†å™¨

```typescript
class ProjectContextManager {
  // é¡¹ç›®åˆ†æ
  async analyzeProject(projectPath: string) {
    // 1. æ‰«ææ–‡ä»¶ç»“æ„
    const files = await this.scanFiles(projectPath);

    // 2. è§£æä»£ç ï¼ˆASTï¼‰
    const symbols = await this.parseSymbols(files);

    // 3. æ„å»ºä¾èµ–å›¾
    const dependencies = await this.buildDependencyGraph(symbols);

    // 4. ç”ŸæˆåµŒå…¥
    const embeddings = await this.generateEmbeddings(symbols);

    // 5. å­˜å‚¨åˆ°æ•°æ®åº“
    await this.saveToDatabase({
      files,
      symbols,
      dependencies,
      embeddings
    });
  }

  // æ™ºèƒ½ä¸Šä¸‹æ–‡æ¨è
  async getRelevantContext(query: string, currentFile: string) {
    // 1. å½“å‰æ–‡ä»¶ä¸Šä¸‹æ–‡
    const fileContext = await this.getFileContext(currentFile);

    // 2. è¯­ä¹‰ç›¸å…³ä»£ç 
    const semanticContext = await this.semanticSearch.search(query);

    // 3. ä¾èµ–å…³ç³»
    const dependencies = await this.getDependencies(currentFile);

    // 4. å†å²å¯¹è¯
    const chatHistory = await this.getChatHistory(currentFile);

    // 5. æ™ºèƒ½æ’åºå’Œåˆå¹¶
    return this.mergeAndRank([
      fileContext,
      semanticContext,
      dependencies,
      chatHistory
    ]);
  }
}
```

#### 3.2 å¯¹è¯å†å²æ™ºèƒ½æ£€ç´¢

```typescript
class ChatHistoryManager {
  // æ™ºèƒ½æ£€ç´¢å†å²å¯¹è¯
  async searchRelevantHistory(query: string, projectPath: string) {
    // 1. å…¨æ–‡æœç´¢
    const ftsResults = await this.fullTextSearch(query);

    // 2. è¯­ä¹‰æœç´¢
    const semanticResults = await this.semanticSearch(query);

    // 3. é¡¹ç›®ç›¸å…³
    const projectResults = await this.getProjectHistory(projectPath);

    // 4. æ—¶é—´è¡°å‡
    const timeWeighted = this.applyTimeDecay([
      ...ftsResults,
      ...semanticResults,
      ...projectResults
    ]);

    // 5. å»é‡å’Œæ’åº
    return this.deduplicateAndRank(timeWeighted);
  }

  // è‡ªåŠ¨æ€»ç»“
  async summarizeSession(sessionId: string) {
    const messages = await this.getSession(sessionId);

    // æå–å…³é”®ä¿¡æ¯
    const summary = {
      topics: this.extractTopics(messages),
      decisions: this.extractDecisions(messages),
      codeChanges: this.extractCodeChanges(messages),
      nextSteps: this.extractNextSteps(messages)
    };

    return summary;
  }
}
```

---

### Phase 4: é«˜çº§åŠŸèƒ½ï¼ˆå¯é€‰ï¼Œ2-3ä¸ªæœˆï¼‰

#### 4.1 é›†æˆä¸“ä¸šå‘é‡æ•°æ®åº“ï¼ˆå¯é€‰ï¼‰

å¦‚æœéœ€è¦å¤„ç†è¶…å¤§è§„æ¨¡ä»£ç åº“ï¼ˆ100ä¸‡+ æ–‡ä»¶ï¼‰ï¼Œå¯ä»¥é›†æˆï¼š

**é€‰é¡¹ A: Chromaï¼ˆæ¨èï¼‰**
```typescript
import { ChromaClient } from 'chromadb';

const client = new ChromaClient();
const collection = await client.createCollection({
  name: 'miaoda-code',
  metadata: { 'hnsw:space': 'cosine' }
});

// æ·»åŠ ä»£ç åµŒå…¥
await collection.add({
  ids: ['file1', 'file2'],
  embeddings: [embedding1, embedding2],
  metadatas: [{ path: '/src/a.ts' }, { path: '/src/b.ts' }]
});

// æŸ¥è¯¢
const results = await collection.query({
  queryEmbeddings: [queryEmbedding],
  nResults: 10
});
```

**ä¼˜åŠ¿ï¼š**
- âœ… å¼€æºå…è´¹
- âœ… æ˜“äºé›†æˆ
- âœ… æ€§èƒ½ä¼˜ç§€
- âœ… æ”¯æŒæœ¬åœ°éƒ¨ç½²

**é€‰é¡¹ B: Qdrant**
```typescript
import { QdrantClient } from '@qdrant/js-client-rest';

const client = new QdrantClient({ url: 'http://localhost:6333' });

await client.upsert('miaoda-code', {
  points: [
    {
      id: 1,
      vector: embedding,
      payload: { file: '/src/a.ts', type: 'function' }
    }
  ]
});
```

#### 4.2 çŸ¥è¯†å›¾è°±å¯è§†åŒ–

```typescript
class KnowledgeGraphVisualizer {
  async generateGraph(projectPath: string) {
    // 1. è·å–æ‰€æœ‰å…³ç³»
    const relations = await this.db.all(`
      SELECT * FROM knowledge_graph
      WHERE project_path = ?
    `, [projectPath]);

    // 2. æ„å»ºå›¾ç»“æ„
    const graph = {
      nodes: this.extractNodes(relations),
      edges: this.extractEdges(relations)
    };

    // 3. ä½¿ç”¨ D3.js æˆ– Cytoscape.js å¯è§†åŒ–
    return graph;
  }
}
```

---

## ğŸ¯ æœ€ç»ˆæ¨èæ–¹æ¡ˆ

### çŸ­æœŸï¼ˆç«‹å³å®æ–½ï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        Miaoda IDE                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Enhanced SQLite Storage           â”‚
â”‚   - å…¨æ–‡æœç´¢ï¼ˆFTS5ï¼‰                 â”‚
â”‚   - é¡¹ç›®ä¸Šä¸‹æ–‡è¡¨                     â”‚
â”‚   - ä»£ç ç´¢å¼•è¡¨                       â”‚
â”‚   - çŸ¥è¯†å›¾è°±è¡¨                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ä¼˜åŠ¿ï¼š**
- âœ… é›¶é¢å¤–ä¾èµ–
- âœ… ç«‹å³å¯ç”¨
- âœ… æ€§èƒ½è‰¯å¥½
- âœ… æ»¡è¶³ 80% éœ€æ±‚

### ä¸­æœŸï¼ˆ1-2å‘¨ï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        Miaoda IDE                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Unified Storage Layer             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â†“                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   SQLite     â”‚    â”‚ Transformers.js  â”‚
â”‚   ç»“æ„åŒ–æ•°æ®  â”‚    â”‚ è¯­ä¹‰æœç´¢         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ä¼˜åŠ¿ï¼š**
- âœ… è¯­ä¹‰æœç´¢èƒ½åŠ›
- âœ… æœ¬åœ°è¿è¡Œ
- âœ… æ— éœ€é¢å¤–æœåŠ¡
- âœ… æ»¡è¶³ 95% éœ€æ±‚

### é•¿æœŸï¼ˆå¯é€‰ï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        Miaoda IDE                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Unified Storage API               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   â†“           â†“            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚SQLiteâ”‚  â”‚Transformersâ”‚ â”‚ Chroma  â”‚
â”‚      â”‚  â”‚.js        â”‚  â”‚(å¯é€‰)   â”‚
â””â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ä¼˜åŠ¿ï¼š**
- âœ… ä¼ä¸šçº§èƒ½åŠ›
- âœ… è¶…å¤§è§„æ¨¡æ”¯æŒ
- âœ… çµæ´»æ‰©å±•
- âœ… æ»¡è¶³ 100% éœ€æ±‚

---

## ğŸ“ å®æ–½è®¡åˆ’

### Week 1: ä¿®å¤ SQLite + å¢å¼ºæ•°æ®æ¨¡å‹
- [ ] ä¿®å¤ SQLite ç¼–è¯‘é—®é¢˜
- [ ] åˆ›å»ºå¢å¼ºçš„æ•°æ®è¡¨
- [ ] å®ç°å…¨æ–‡æœç´¢
- [ ] è¿ç§»ç°æœ‰æ•°æ®

### Week 2: é›†æˆ Transformers.js
- [ ] é›†æˆ Transformers.js
- [ ] å®ç°ä»£ç åµŒå…¥ç”Ÿæˆ
- [ ] å®ç°è¯­ä¹‰æœç´¢
- [ ] æµ‹è¯•æ€§èƒ½

### Week 3-4: æ™ºèƒ½ä¸Šä¸‹æ–‡ç®¡ç†
- [ ] é¡¹ç›®åˆ†æå™¨
- [ ] ä¸Šä¸‹æ–‡æ¨è
- [ ] å¯¹è¯å†å²æ™ºèƒ½æ£€ç´¢
- [ ] çŸ¥è¯†å›¾è°±æ„å»º

### Month 2+: é«˜çº§åŠŸèƒ½ï¼ˆå¯é€‰ï¼‰
- [ ] é›†æˆ Chromaï¼ˆå¦‚éœ€è¦ï¼‰
- [ ] çŸ¥è¯†å›¾è°±å¯è§†åŒ–
- [ ] æ€§èƒ½ä¼˜åŒ–
- [ ] äº‘ç«¯åŒæ­¥

---

## ğŸ¯ é¢„æœŸæ•ˆæœ

### ç”¨æˆ·ä½“éªŒæå‡

**Before:**
```
ç”¨æˆ·: "è¿™ä¸ªå‡½æ•°åœ¨å“ªé‡Œå®šä¹‰çš„ï¼Ÿ"
IDE: [æœç´¢æ–‡ä»¶å] â†’ éœ€è¦æ‰‹åŠ¨æŸ¥æ‰¾
```

**After:**
```
ç”¨æˆ·: "è¿™ä¸ªå‡½æ•°åœ¨å“ªé‡Œå®šä¹‰çš„ï¼Ÿ"
IDE:
  âœ… ç›´æ¥å®šä½åˆ°å®šä¹‰ä½ç½®
  âœ… æ˜¾ç¤ºæ‰€æœ‰å¼•ç”¨
  âœ… æ¨èç›¸å…³ä»£ç 
  âœ… æ˜¾ç¤ºå†å²è®¨è®º
```

### æ€§èƒ½æŒ‡æ ‡

| æ“ä½œ | ç›®æ ‡ | é¢„æœŸ |
|------|------|------|
| å…¨æ–‡æœç´¢ | < 100ms | ~50ms |
| è¯­ä¹‰æœç´¢ | < 500ms | ~200ms |
| ä¸Šä¸‹æ–‡åŠ è½½ | < 200ms | ~100ms |
| é¡¹ç›®åˆ†æ | < 30s | ~10s |

### èƒ½åŠ›æå‡

- âœ… **è®°å¿†èƒ½åŠ›**: è®°ä½æ‰€æœ‰é¡¹ç›®ä¸Šä¸‹æ–‡å’Œå¯¹è¯å†å²
- âœ… **ç†è§£èƒ½åŠ›**: è¯­ä¹‰çº§åˆ«ç†è§£ä»£ç å’Œæ„å›¾
- âœ… **æ¨èèƒ½åŠ›**: æ™ºèƒ½æ¨èç›¸å…³ä»£ç å’Œä¸Šä¸‹æ–‡
- âœ… **æ£€ç´¢èƒ½åŠ›**: æ¯«ç§’çº§ç²¾å‡†æ£€ç´¢
- âœ… **å¯é æ€§**: æ•°æ®æŒä¹…åŒ–ï¼Œä¸ä¸¢å¤±

---

## ğŸ’¡ æ€»ç»“

**æ¨èæ–¹æ¡ˆï¼šSQLite + Transformers.js æ··åˆæ¶æ„**

**ç†ç”±ï¼š**
1. âœ… æ— éœ€é¢å¤–æœåŠ¡ï¼Œå¼€ç®±å³ç”¨
2. âœ… æœ¬åœ°è¿è¡Œï¼Œéšç§å®‰å…¨
3. âœ… æ€§èƒ½ä¼˜ç§€ï¼Œæ»¡è¶³éœ€æ±‚
4. âœ… æ¸è¿›å¼å¢å¼ºï¼Œçµæ´»æ‰©å±•
5. âœ… æˆæœ¬ä½ï¼Œç»´æŠ¤ç®€å•

**vs OpenViking:**
- OpenViking é€‚åˆäº‘ç«¯å¤§è§„æ¨¡éƒ¨ç½²
- æˆ‘ä»¬çš„æ–¹æ¡ˆé€‚åˆæœ¬åœ° IDEï¼Œæ›´è½»é‡

**vs Intent Engine:**
- Intent Engine æ˜¯æ„å›¾ç†è§£å±‚
- æˆ‘ä»¬çš„æ–¹æ¡ˆæ˜¯å­˜å‚¨å±‚
- å¯ä»¥ç»“åˆä½¿ç”¨

**æœ€ä½³å®è·µï¼š**
- Phase 1: å¢å¼º SQLiteï¼ˆç«‹å³ï¼‰
- Phase 2: é›†æˆ Transformers.jsï¼ˆ1-2å‘¨ï¼‰
- Phase 3: æ™ºèƒ½ä¸Šä¸‹æ–‡ï¼ˆ1ä¸ªæœˆï¼‰
- Phase 4: å¯é€‰é«˜çº§åŠŸèƒ½ï¼ˆæŒ‰éœ€ï¼‰

---

**Miaoda IDE** - æ›´å¼ºçš„è®°å¿†ï¼Œæ›´å¥½çš„ç†è§£ï¼Œæ›´å®Œç¾çš„ç»“æœï¼
